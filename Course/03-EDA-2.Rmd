# Exploratory Data Analysis - II {#eda-2}
This week we will try to apply our last weeks knowledge into analysis.

## Markdown Introduction

R Markdown is a powerful tool that allows you to create dynamic documents, presentations, and reports using R code. It combines the core syntax of markdown (an easy-to-write plain text format) with embedded R code chunks that are run when the document is renderedÂ¹.

R Markdown documents are fully reproducible, meaning that anyone can re-run the code and generate the same results. This makes it easy to share your work with others and ensure that your results are accurate and reliable.

One of the great things about R Markdown is its flexibility. You can use it to create a wide variety of output formats, including HTML, PDF, and Microsoft Word documents. You can even create interactive documents with Shiny componentsÂ¹.

To get started with R Markdown, you'll need to install the `rmarkdown` package from CRAN. This can be done by running the command `install.packages("rmarkdown")` in the R consoleÂ². Once you have the package installed, you can create a new R Markdown document in RStudio by going to `File > New File > R Markdown`.

An R Markdown document is made up of text written in markdown syntax and chunks of R code. When you render the document, the R code is executed and its output (such as plots or tables) is inserted into the final documentÂ¹.


When you render this document, the text and code will be combined to create an HTML file that includes both the markdown text and the output of the R code chunks.

You can easily add images to an R Markdown document using the standard markdown syntax for images. The basic syntax for adding an image is `![Alt text](image_url)`, where `Alt text` is the text that will be displayed if the image cannot be loaded, and `image_url` is the URL of the image you want to include.


I hope this helps you understand how to add images to an R Markdown document! Let me know if you have any further questions ðŸ˜Š

R Markdown is a powerful tool that offers many advantages for data analysis and reporting. Some of the key benefits of using R Markdown include:

1. **Reproducibility**: R Markdown documents are fully reproducible, meaning that anyone can re-run the code and generate the same results. This makes it easy to share your work with others and ensure that your results are accurate and reliable.

2. **Flexibility**: R Markdown is incredibly flexible and can be used to create a wide variety of output formats, including HTML, PDF, and Microsoft Word documents. You can even create interactive documents with Shiny components.

3. **Ease of use**: R Markdown is easy to use, even for people with little or no programming experience. The core syntax of markdown is simple and intuitive, and the ability to embed R code directly into the document makes it easy to include dynamic content.

4. **Integration with R**: R Markdown is tightly integrated with R, making it easy to access and use the full power of the R language for data analysis and visualization.

5. **Collaboration**: R Markdown makes it easy to collaborate with others on data analysis projects. You can share your code and results with others, and they can easily reproduce your work and build on it.

Overall, R Markdown is a powerful tool that offers many advantages for data analysis and reporting. It's a great way to create dynamic, reproducible documents that are easy to share and collaborate on ðŸ˜Š

I hope this introduction helps you understand what R Markdown is and how it can be used. If you want to learn more, there are many great resources available online, including the [R Markdown website](https://bookdown.org/yihui/rmarkdown/) ðŸ˜Š




## Applying EDA(WVS/own data)

### Exercise - 1

**Boston Housing Dataset**

Housing data contains 506 census tracts of Boston from the 1970 census. The dataframe BostonHousing contains the original data by Harrison and Rubinfeld (1979), the dataframe BostonHousing2 the corrected version with additional spatial information.

The dataset has two prototasks: `nox`, in which the nitrous oxide level is to be predicted; and `price`, in which the median value of a home is to be predicted.

**Other Details:** 
  *Origin*
    -The origin of the boston housing data is Natural.
  *Usage*
    -This dataset may be used for Assessment.
  *Number of Cases*
    -The dataset contains a total of 506 cases.
  *Order*
    -The order of the cases is mysterious.
  *Variables*
    -There are 14 attributes in each case of the dataset. They are:
    1. CRIM - per capita crime rate by town
    2. ZN - proportion of residential land zoned for lots over 25,000 sq.ft.
    3. INDUS - proportion of non-retail business acres per town.
    4. CHAS - Charles River dummy variable (1 if tract bounds river; 0 otherwise)
    5. NOX - nitric oxides concentration (parts per 10 million)
    6. RM - average number of rooms per dwelling
    7. AGE - proportion of owner-occupied units built prior to 1940
    8. DIS - weighted distances to five Boston employment centres
    9. RAD - index of accessibility to radial highways
    10. TAX - full-value property-tax rate per $10,000
    11. PTRATIO - pupil-teacher ratio by town
    12. B - 1000(Bk - 0.63)^2 where Bk is the proportion of blacks by town
    13. LSTAT - % lower status of the population
    14. MEDV - Median value of owner-occupied homes in $1000's

You can include this data by installing mlbench library:
```{r, warning=FALSE, message=FALSE}
#install.packages("mlbench") ## installing the library
library(mlbench) #adding the library
library(openxlsx)
library(dplyr)
data(BostonHousing2)
housing <- BostonHousing2
write.xlsx(housing, "../datasets/boston.xlsx")
```

::: {.assignx}

1. **Read the dataset**: Read the Boston Housing Dataset from the Excel file.

```{r, include=FALSE}
library(readxl)
BostonHousing <- read_excel("../datasets/boston.xlsx")
```


2. **Inspect the dataset**: Use the proper functions to inspect the structure and contents of the dataset. How many Categorical variables are there? How many numerical variables are there? Is there any null values?

```{r, include=FALSE}
str(BostonHousing)
glimpse(BostonHousing)
# Check for missing values in all columns
colSums(is.na(BostonHousing))
```


3. **Summarize categorical variables**: Create frequency table for categorical variables CHAS (Charles River dummy variable).

```{r, include=FALSE}
table(BostonHousing$chas)
```


4. **Summarize numerical variables**: Generate summary statistics for numerical variables CRIM (per capita crime rate by town) and RM (average number of rooms per dwelling).

```{r, include=FALSE}
summary(BostonHousing$crim)
summary(BostonHousing$rm)
```


5. **Create new variables**: Create new variable indicating whether a house is located near the Charles River or not.

```{r, include=FALSE}
library(dplyr)
BostonHousing <- BostonHousing %>%
  mutate(near_river = case_when(chas == 1 ~ "Yes",
                                chas != 1 ~ "No"))
```


6. **Recoding variables**: Create a new variable that groups houses by their proximity to employment centers.

```{r, include=FALSE}
BostonHousing <- BostonHousing %>%
  mutate(distance_group = case_when(
    dis < 2 ~ "Near",
    dis >= 2 & dis < 5 ~ "Medium",
    dis >= 5 ~ "Far"
  ))
```


7. **Visualize relationships**: Create scatter plots to explore the relationship between housing prices and other numeric variables(`rm`, `age`, `dis`, `lstat`). Interpret the plots. Also show the distribution of ptratio by distance_group.

```{r, message=FALSE, warning=FALSE, include=FALSE}
# Create a list of numeric variables to plot against MEDV
vars <- c("rm", "age", "dis", "lstat")

# Create a scatter plot for each variable
#rm
rm_sp <- BostonHousing %>% 
  ggplot(aes(y=rm, x=medv)) +
    geom_point() + 
     stat_smooth(method = "lm") + 
       theme_minimal()
#age
age_sp <- BostonHousing %>% 
  ggplot(aes(y=age, x=medv)) +
    geom_point() + 
     stat_smooth(method = "lm") + 
       theme_minimal()
#dis
dis_sp <- BostonHousing %>% 
  ggplot(aes(y=dis, x=medv)) +
    geom_point() + 
     stat_smooth(method = "lm") + 
       theme_minimal()
#lstat
lstat_sp <- BostonHousing %>% 
  ggplot(aes(y=lstat, x=medv)) +
    geom_point() + 
     stat_smooth(method = "lm") + 
       theme_minimal()
#adding all plots in one
library("ggpubr")
ggarrange(rm_sp, age_sp,
          dis_sp, lstat_sp,
          ncol = 2, nrow = 2)
```


```{r, include=FALSE}
# Create a boxplot of PTRATIO grouped by distance_group
BostonHousing %>% ggplot() + 
geom_boxplot(aes(y=ptratio)) +
  facet_wrap(~distance_group) +
  theme_light()
```


8. **Correlation analysis**: Calculate correlation coefficients between housing prices and average number of rooms per dwelling, also between housing prices and crime rate. Interpret the result.

```{r, include=FALSE}
library(corrplot)
corr_matrix0 <- cor(BostonHousing[, c("medv", "rm")])
corr_matrix1 <- cor(BostonHousing[, c("medv", "crim")])
corrplot(corr_matrix0)
corrplot(corr_matrix1)
```


:::




